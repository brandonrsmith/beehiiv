<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self-Employed Quarterly Tax Estimator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white shadow-xl rounded-2xl p-8 max-w-2xl w-full border border-gray-200">
        <h1 class="text-3xl font-bold text-gray-800 text-center mb-2">Quarterly Tax Estimator</h1>
        <p class="text-center text-gray-600 mb-6">Estimate your self-employment and income tax payments.</p>
        
        <form id="tax-form" class="space-y-6">
            <div class="space-y-4">
                <div>
                    <label for="filingStatus" class="block text-sm font-medium text-gray-700 mb-1">Filing Status</label>
                    <select id="filingStatus" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-200 p-3">
                        <option value="single">Single</option>
                        <option value="marriedJointly">Married Filing Jointly</option>
                        <option value="headOfHousehold">Head of Household</option>
                    </select>
                </div>
                <div>
                    <label for="grossIncome" class="block text-sm font-medium text-gray-700 mb-1">Estimated Quarterly Gross Income ($)</label>
                    <input type="number" id="grossIncome" placeholder="e.g., 15000" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-200 p-3" required>
                </div>
                <div>
                    <label for="businessExpenses" class="block text-sm font-medium text-gray-700 mb-1">Estimated Quarterly Business Expenses ($)</label>
                    <input type="number" id="businessExpenses" placeholder="e.g., 2000" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-200 p-3" required>
                </div>
                <div>
                    <label for="otherDeductions" class="block text-sm font-medium text-gray-700 mb-1">Other Quarterly Deductions ($)</label>
                    <input type="number" id="otherDeductions" placeholder="e.g., 500" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-200 p-3" value="0">
                </div>
            </div>

            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-colors duration-200">
                Calculate Estimate
            </button>
        </form>

        <div id="results" class="mt-8 pt-6 border-t border-gray-200 hidden">
            <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">Your Estimated Tax Payments</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded-xl text-center">
                    <p class="text-sm text-gray-600 font-medium">Estimated Net Earnings</p>
                    <p id="netEarnings" class="text-2xl font-bold text-gray-800 mt-1"></p>
                </div>
                <div class="bg-blue-50 p-4 rounded-xl text-center">
                    <p class="text-sm text-gray-600 font-medium">Self-Employment Tax</p>
                    <p id="seTax" class="text-2xl font-bold text-gray-800 mt-1"></p>
                </div>
                <div class="bg-blue-50 p-4 rounded-xl text-center">
                    <p class="text-sm text-gray-600 font-medium">Estimated Income Tax</p>
                    <p id="incomeTax" class="text-2xl font-bold text-gray-800 mt-1"></p>
                </div>
                <div class="bg-blue-600 text-white p-4 rounded-xl text-center">
                    <p class="text-sm font-medium">TOTAL QUARTERLY PAYMENT</p>
                    <p id="totalTax" class="text-2xl font-bold mt-1"></p>
                </div>
            </div>

            <p class="text-xs text-gray-500 mt-6 text-center">
                <span class="font-semibold">Disclaimer:</span> This tool is for estimation purposes only and should not be considered professional tax advice. Tax laws change frequently, and your personal situation may vary. Consult a qualified tax professional for accurate guidance.
            </p>
        </div>
    </div>

    <script>
        document.getElementById('tax-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const filingStatus = document.getElementById('filingStatus').value;
            const grossIncome = parseFloat(document.getElementById('grossIncome').value) || 0;
            const businessExpenses = parseFloat(document.getElementById('businessExpenses').value) || 0;
            const otherDeductions = parseFloat(document.getElementById('otherDeductions').value) || 0;

            // --- Tax data for 2024. Update these values annually. ---
            const TAX_DATA = {
                single: {
                    standardDeduction: 14600,
                    taxBrackets: [
                        { rate: 0.10, min: 0, max: 11600 },
                        { rate: 0.12, min: 11601, max: 47150 },
                        { rate: 0.22, min: 47151, max: 100525 },
                        { rate: 0.24, min: 100526, max: 191950 },
                        { rate: 0.32, min: 191951, max: 243725 },
                        { rate: 0.35, min: 243726, max: 609350 },
                        { rate: 0.37, min: 609351, max: Infinity }
                    ]
                },
                marriedJointly: {
                    standardDeduction: 29200,
                    taxBrackets: [
                        { rate: 0.10, min: 0, max: 23200 },
                        { rate: 0.12, min: 23201, max: 94300 },
                        { rate: 0.22, min: 94301, max: 201050 },
                        { rate: 0.24, min: 201051, max: 383900 },
                        { rate: 0.32, min: 383901, max: 487450 },
                        { rate: 0.35, min: 487451, max: 731200 },
                        { rate: 0.37, min: 731201, max: Infinity }
                    ]
                },
                headOfHousehold: {
                    standardDeduction: 21900,
                    taxBrackets: [
                        { rate: 0.10, min: 0, max: 16550 },
                        { rate: 0.12, min: 16551, max: 63100 },
                        { rate: 0.22, min: 63101, max: 100500 },
                        { rate: 0.24, min: 100501, max: 191950 },
                        { rate: 0.32, min: 191951, max: 243725 },
                        { rate: 0.35, min: 243726, max: 609350 },
                        { rate: 0.37, min: 609351, max: Infinity }
                    ]
                }
            };
            
            // Step 1: Calculate Net Earnings (quarterly)
            const quarterlyNetEarnings = grossIncome - businessExpenses;
            
            // Step 2: Calculate Self-Employment Tax (quarterly)
            const seTax = (quarterlyNetEarnings > 0) ? quarterlyNetEarnings * 0.153 : 0;
            
            // Step 3: Annualize and calculate Taxable Income
            const annualNetEarnings = quarterlyNetEarnings * 4;
            const deductibleSeTax = seTax * 4 * 0.5;
            const annualOtherDeductions = otherDeductions * 4;
            
            const annualAdjustedGrossIncome = Math.max(0, annualNetEarnings - deductibleSeTax - annualOtherDeductions);
            const standardDeduction = TAX_DATA[filingStatus].standardDeduction;
            const annualTaxableIncome = Math.max(0, annualAdjustedGrossIncome - standardDeduction);

            // Step 4: Calculate Federal Income Tax (annual)
            let annualIncomeTax = 0;
            let remainingTaxable = annualTaxableIncome;
            const brackets = TAX_DATA[filingStatus].taxBrackets;

            for (let i = 0; i < brackets.length; i++) {
                const bracket = brackets[i];
                const taxableInThisBracket = Math.min(remainingTaxable, bracket.max - bracket.min + 1);
                if (taxableInThisBracket > 0) {
                    annualIncomeTax += taxableInThisBracket * bracket.rate;
                    remainingTaxable -= taxableInThisBracket;
                }
            }
            
            // Step 5: Calculate Total Quarterly Tax
            const totalQuarterlyTax = (seTax + (annualIncomeTax / 4));

            // Display results
            document.getElementById('netEarnings').textContent = `$${Math.max(0, quarterlyNetEarnings).toFixed(2)}`;
            document.getElementById('seTax').textContent = `$${seTax.toFixed(2)}`;
            document.getElementById('incomeTax').textContent = `$${(annualIncomeTax / 4).toFixed(2)}`;
            document.getElementById('totalTax').textContent = `$${totalQuarterlyTax.toFixed(2)}`;
            
            // Show the results section
            document.getElementById('results').classList.remove('hidden');
        });
    </script>
</body>
</html>
